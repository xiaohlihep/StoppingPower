function computeStoppingPower(m,q,E,ro,Z,A,I){var B=0;var t=0;var k=0.307075;var g=1+ (E/ m);var b2=1- (1/ (g* g));B= b2;var T=(1.022* b2* g* g)/ (1+ 2* g* (0.511/ m)+ Math["pow"](0.511/ m,2));t= T;var SP=((ro* k* q* q* Z)/ (A* b2))* (0.5* Math["log"]((1.022* b2* g* g* T)/ (I* I))- b2);return [G,B,t,SP]}function transport(thickness,step,m,q,E,ro,Z,A,I){var distance=0;var totalSP=0;var nsteps=1;var T=0;var res;while(distance< thickness&& E> 0){nsteps+= 1;G= 0;B= 0;res= computeStoppingPower(m,q,E,ro,Z,A,I);G= res[0];B= res[1];T= res[2];SP= res[3];totalSP+= SP;E= E- SP* step;distance+= step};return [totalSP/ nsteps,E,distance,nsteps,T]}function computeRange(step,m,q,E,ro,Z,A,I){var distance=0;var res;var totalSP=0;var nsteps=1;var T=0;var SP;while(E> 0){nsteps+= 1;res= computeStoppingPower(m,q,E,ro,Z,A,I);SP= res[3];totalSP+= SP;E= E- SP* step;distance+= step};return distance}function transportProtonInCopper(E,thickness){var m=938.0;var ro=8.96;var I=322e-6;var Z=29.0;var A=63.5;var step=1e-3;var q=1.0;return transport(thickness,step,m,q,E,ro,Z,A,I)}function computeStoppingPowerVsCopperThickness(E){var x=[];var y=[];var res;for(var thickness=0.05;thickness< 7;thickness+= 0.05){console["log"]("thickness"+ thickness);res= transportProtonInCopper(E,thickness);if(res[1]< 0){break};x["push"](thickness* 10);y["push"](res[1])};return {x:x,y:y}}function computeCopperThickness(E0,E){var res=computeStoppingPowerVsCopperThickness(E0);console["log"](res);var Llst=res["x"];var Elst=res["y"];var Lok=Llst[0];var Eok=Elst[0];var closest=E0;for(i= 0;i< Llst["length"];i++){if(Math["abs"](Elst[i]- E)< closest){Lok= Llst[i];Eok= Elst[i];closest= Math["abs"](Elst[i]- E)}};return [Eok,Lok]}$(function(){$("#frm")["submit"](function(e){e["preventDefault"]();$("#degrader")["html"]("Computing...");var data=$("#frm")["serializeArray"]();var E0=data[0]["value"];var E=data[1]["value"];console["log"](E0);console["log"](E);if(E0<= 0|| E<= 0){$("#degrader")["html"]("Invalid input...")}else {res= computeCopperThickness(E0,E);$("#degrader")["html"]("<strong>Closest energy:</strong> "+ Number(res[0])["toFixed"](2)+ " (MeV)<br>"+ "<strong>Degrader thickness:</strong>"+ Number(res[1])["toFixed"](2)+ " mm")}});$("#frm2")["submit"](function(e){e["preventDefault"]();$("#degrader2")["html"]("Computing...");var data=$("#frm2")["serializeArray"]();var E0=data[0]["value"];var TH=data[1]["value"];console["log"](E0);console["log"](TH);if(E0<= 0|| TH<= 0){$("#degrader2")["html"]("Invalid input...")}else {res= transportProtonInCopper(E0,TH* 0.1);$("#degrader2")["html"]("<strong>Energy at DUT:</strong>"+ Number(res[1])["toFixed"](2)+ " MeV <br>"+ "<strong>Mean stopping power :</strong>"+ Number(res[0])["toFixed"](2)+ " MeV/cm<br>"+ "<strong>Maximum transfer energy per collision:</strong>"+ Number(res[4])["toFixed"](5)+ " MeV<br>")}})})
